How to install darshan runtime in ubuntu:

1. Get darshan latest version tar file (check the newest version online!):
	> wget ftp://ftp.mcs.anl.gov/pub/darshan/releases/darshan-3.3.1.tar.gz 

2. Installation:
	> tar -xvzf darshan-3.3.1.tar.gz
	> mv darshan-3.3.1 ~/ (move darshan to home directory)
	> cd ~/darshan-3.3.1/darshan-runtime/
	> ./prepare
	> ./configure --with-log-path-by-env=DARSHAN_LOGPATH --with-jobid-env=NONE CC=mpicc --prefix=$darshan
	> make
	> sudo make install

3. Install darshan util in ubuntu:
	> cd ~/darshan-3.3.1/darshan-util/
	> ./prepare
	> ./configure CC=mpicc --prefix=$darshan
	> make
	> sudo make install
4. install extra pckage to view pdf, latex and gnuplot:
	>sudo apt-get install texlive-latex-extra texlive-font-utils libpod-latex-perl gnuplot


Info:
https://www.mcs.anl.gov/research/projects/darshan/docs/darshan-runtime.html
https://github.com/kchasapis/esiwace_demo_darshan


Apply darshan instrument in ubuntu :
1. Create a 'darshan_log' folder in your home directory
2. Put this instrument commands in /oop/bin/subLotus
   export DARSHAN_LOGPATH=$HOME'/darshan_log'
   time LD_PRELOAD=/lib/libdarshan.so mpirun -n $1 ./lotus $2 ...

How to change *.darshan file into pdf:
1. Go to your darshan_log directory
2. In terminal, type: 
   > darshan-job-summary.pl $HOME'/darshan_log/trial1.darshan'
   'trial1.darshan' is the result generated by darshan.

PDF reports on individual files can also be created using:
> darshan-summary-per-file.sh <trace file> <outputdirectory>

Individual statistics can be viewed in text format (report shown in terminal, be careful it's very long!):
> darshan-parser <trace file>
